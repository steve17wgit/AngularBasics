
@{
    ViewData["Title"] = "Filters";
}

<script src="~/lib/angular/angular.min.js" type="text/javascript"></script>

<h2>Filters</h2>

@*<div ng-app="myApp" ng-controller="personCtrl">
        <p>The name is {{ lastName | uppercase }}</p>
    </div>
    <script>
        var app = angular.module('myApp', []);
        app.controller('personCtrl', function ($scope) {
            $scope.firstName = "John";
            $scope.lastName = "Doe";
            $scope.fullName = function () {
                return $scope.firstName + " " + $scope.lastName;
            };
        });
    </script>*@


@*<div ng-app="myApp" ng-controller="namesCtrl">
        <ul>
            <li ng-repeat="x in names | orderBy:'country'">
                {{ x.name + ', ' + x.country }}
            </li>
        </ul>
    </div>


    <script>
        angular.module('myApp', []).controller('namesCtrl', function ($scope) {
            $scope.names = [
                { name: 'Jani', country: 'Norway' },
                { name: 'Carl', country: 'Sweden' },
                { name: 'Margareth', country: 'England' },
                { name: 'Hege', country: 'Norway' },
                { name: 'Joe', country: 'Denmark' },
                { name: 'Gustav', country: 'Sweden' },
                { name: 'Birgit', country: 'Denmark' },
                { name: 'Mary', country: 'England' },
                { name: 'Kai', country: 'Norway' }
            ];
            $scope.orderByMe = function (x) {
                $scope.myOrderBy = x;
            }
        });
    </script>*@


@*<div ng-app="myApp" ng-controller="costCtrl">
        <h1>Price: {{ price | currency }}</h1>
    </div>

    <script>
        angular.module('myApp', []).controller('costCtrl', function ($scope) {
            $scope.price = 10999.95;
        });
    </script>*@

@*<div ng-app="myApp" ng-controller="namesCtrl">
        <ul>
            <li ng-repeat="x in names | filter : 'i'">
                {{ x.name }}
            </li>
        </ul>
    </div>*@

@*<div ng-app="myApp" ng-controller="namesCtrl">
        <p><input type="text" ng-model="userInput"></p>
        <ul>
            <li ng-repeat="x in names | filter : userInput:name">
                //filter by one property only 'name'
                {{ x.name }}
            </li>
        </ul>
    </div>*@

@*<div ng-app="myApp" ng-controller="namesCtrl">
        <table border="1" style="width:100%">
            <thead>
                <tr>
                    <td ng-click="orderByMe('name')">Name</td>
                    <td ng-click="orderByMe('country')">Country</td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="x in names | orderBy: myOrderBy">
                    <td>{{x.name}}</td>
                    <td>{{x.country}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script src="~/js/namesController.js"></script>*@

@*custom*@
<ul ng-app="myApp" ng-controller="namesCtrl">
    <li ng-repeat="x in names">
        {{x | myFormat}}
    </li>
</ul>

<script>
    var app = angular.module('myApp', []);
    app.filter('myFormat', function () {
        return function (x) {
            var i, c, txt = "";
            for (i = 0; i < x.length; i++) {
                c = x[i];
                if (i % 2 == 0) {
                    c = c.toUpperCase();
                }
                txt += c;
            }
            return txt;
        };
    });
    app.controller('namesCtrl', function ($scope) {
        $scope.names = ['Jani', 'Carl', 'Margareth', 'Hege', 'Joe', 'Gustav', 'Birgit', 'Mary', 'Kai'];
    });
</script>



@*
    AngularJS Filters
    AngularJS provides filters to transform data:
        - currency Format a number to a currency format.
        - date Format a date to a specified format.
        - filter Select a subset of items from an array.
        - json Format an object to a JSON string.
        - limitTo Limits an array/string, into a specified number of elements/characters.
        - lowercase Format a string to lower case.
        - number Format a number to a string.
        - orderBy Orders an array by an expression.
        - uppercase Format a string to upper case.

    Adding Filters to Expressions
        - Filters can be added to expressions by using the pipe character |, followed by a filter.

    The uppercase filter format strings to upper case:
        <p>The name is {{ lastName | uppercase }}</p>

    The lowercase filter format strings to lower case:
        <p>The name is {{ lastName | lowercase }}</p>

    Filters are added to directives, like ng-repeat, by using the pipe character |, followed by a filter:
        -The orderBy filter sorts an array:
        <li ng-repeat="x in names | orderBy:'country'">

    The currency Filter
        - The currency filter formats a number as currency:
           <h1>Price: {{ price | currency }}</h1>

    The filter Filter
        - The filter filter selects a subset of an array.
        - The filter filter can only be used on arrays, and it returns an array containing only the matching items.
        <li ng-repeat="x in names | filter : 'i'"> //contains letter 'i'

    Filter an Array Based on User Input
        - Click the table headers to change the sort order::
          <tr>
            <th ng-click="orderByMe('name')">Name</th>
            <th ng-click="orderByMe('country')">Country</th>
          </tr>
          <tr ng-repeat="x in names | orderBy:myOrderBy">
            <td>{{x.name}}</td>
            <td>{{x.country}}</td>
          </tr>

        $scope.orderByMe = function(x) {
          $scope.myOrderBy = x;
        }

    Custom Filters
        You can make your own filters by registering a new filter factory function with your module:
        Ex: Make a custom filter called "myFormat":

*@